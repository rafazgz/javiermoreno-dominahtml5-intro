Instalar el jdk 8 -> jdk-8u5-windows-x64

El kit de desarrollo para android se llama adt -> adt-bundle-windows-x86_64-20140321

ant -> herramienta para ejecutar tareas (con dependencias) -> apache-ant-1.9.4-bin

Por ejemplo si tienes que ejecutar


alt + 126 = ~ = alt gr + 4

Variables de entorno.

Descomprimir esto en la carpeta de programas
En clase hemos utilizado C:\Users\AULA4~1\Documents\Programas\

En la página: http://ant.apache.org/bindownload.cgi
Descargamos el fichero: http://apache.rediris.es//ant/binaries/apache-ant-1.9.4-bin.zip


Modificar la variable actual llamada path y agregar estas rutas

C:\Users\AULA4~1\Documents\Programas\apache-ant-1.9.4-bin\apache-ant-1.9.4\bin;C:\Users\AULA4~1\Documents\Programas\adt-bundle-windows-x86_64-20140321\sdk\platform-tools;C:\Users\AULA4~1\Documents\Programas\adt-bundle-windows-x86_64-20140321\sdk\tools;C:\Progra~1\Java\jdk1.8.0_05\bin;

Añadir una nueva variable llamada JAVA_HOME con este valor: C:\Progra~1\Java\jdk1.8.0_05

android
adb
javac
java -version
ant -version

Desde la carpeta del proyecto ejecutamos:

C:\tmp\14_phonegap_demo>phonegap local build android



C:\tmp\14_phonegap_demo>start. -> para abrir la carpeta actual

La carpeta importante en este caso es la llamada platforms
Para subir la aplicación hay que firmarla
Se puede hacer desde el phonegap build (web) --> programa de adobe
O también la puedes firmar desde Eclipse ADT (Eclipse exclusivo para desarrollo de android)




Ver imagen de eliminación.
Si eliminamos la carpeta src del proyecto y luego volvemos a compilar se vuelve a generar
C:\tmp\14_phonegap_demo>phonegap local build android



Los plugins son parte nativa de phonegap
No deja de ser un xml y se empaqueta




Creamos una nueva aplicación
Vamos a usar el plugin dialogs
https://github.com/apache/cordova-plugin-dialogs/blob/master/doc/index.md


C:\tmp>phonegap create 15_phonegap_plugins --id com.rafaserrano.www --name Phone
gapPluginsDemo

C:\tmp\15_phonegap_plugins>phonegap plugin add https://github.com/ciberado/domina-phonegap-infotelefonoplugin.git

C:\tmp\15_phonegap_plugins>phonegap plugin add org.apache.cordova.dialogs


Editamos la página de index

<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Hello World</title>
    </head>
    <body>
        <h1>Demo plugins</h1>
        <form>
            <button>Púlsame:</button>
        </form>
        
        <!--  Escte script lo añadirá en tiempo de compilación el phonegap. Así
                que no te preocupes
          -->
        <script type="text/javascript" src="phonegap.js"></script>
        
        <script>
          //  document.addEventListener("deviceready", function(){
          //         var boton = document.querySelector('button');
          //         boton.addEventListener('click', function(evt)
          //         {
          //              evt.preventDefault();
          //              navigator.notification.alert('Vamos Rafa!');
          //         });
          //  });
          
          this.alert('jandemorrr!!');
    
        </script>
    </body>
</html>


Y ejecutamos en android
C:\tmp\15_phonegap_plugins>phonegap local run android


Si no funciona depuramos: en Chrome -> about:inspect


C:\tmp\15_phonegap_plugins>phonegap plugin list


C:\tmp\15_phonegap_plugins>phonegap plugin remove com.chariotsolutions.toast.plugin